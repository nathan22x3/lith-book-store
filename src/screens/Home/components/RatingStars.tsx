import { Box, theme } from '@components/index';
import MaskedView from '@react-native-masked-view/masked-view';
import Svg, { Path } from 'react-native-svg';

interface RatingStarsProps {
  star?: number;
  size?: 'sm' | 'md';
}

const RatingStars = ({ star = 0, size = 'sm' }: RatingStarsProps) => {
  const height = size === 'sm' ? 12 : 16;
  const width = height * 5;
  const flex = star / 5;

  const maskElement = (
    <Svg viewBox={[0, 0, width, height].join(' ')} {...{ width, height }}>
      <Path
        d={
          size === 'sm'
            ? 'M10.974 4.779a.536.536 0 0 0-.458-.381L7.63 4.124 6.49 1.337A.532.532 0 0 0 6 1a.531.531 0 0 0-.489.337L4.37 4.124l-2.887.274a.537.537 0 0 0-.457.38.57.57 0 0 0 .156.59l2.181 1.997-.643 2.957a.567.567 0 0 0 .207.572.516.516 0 0 0 .583.027L6 9.368l2.489 1.553a.511.511 0 0 0 .584-.027.567.567 0 0 0 .207-.572l-.644-2.957 2.182-1.997a.57.57 0 0 0 .156-.59ZM22.974 4.779a.536.536 0 0 0-.458-.381l-2.886-.274-1.141-2.787A.532.532 0 0 0 18 1a.531.531 0 0 0-.489.337L16.37 4.124l-2.887.274a.537.537 0 0 0-.457.38.57.57 0 0 0 .156.59l2.181 1.997-.643 2.957a.567.567 0 0 0 .207.572.516.516 0 0 0 .583.027L18 9.368l2.489 1.553a.511.511 0 0 0 .584-.027.567.567 0 0 0 .207-.572l-.644-2.957 2.182-1.997a.57.57 0 0 0 .156-.59ZM34.974 4.779a.536.536 0 0 0-.458-.381l-2.886-.274-1.141-2.787A.532.532 0 0 0 30 1a.531.531 0 0 0-.489.337L28.37 4.124l-2.887.274a.537.537 0 0 0-.457.38.57.57 0 0 0 .156.59l2.181 1.997-.643 2.957a.567.567 0 0 0 .207.572.516.516 0 0 0 .583.027L30 9.368l2.489 1.553a.511.511 0 0 0 .584-.027.567.567 0 0 0 .207-.572l-.644-2.957 2.182-1.997a.57.57 0 0 0 .156-.59ZM46.974 4.779a.536.536 0 0 0-.458-.381l-2.886-.274-1.141-2.787A.532.532 0 0 0 42 1a.531.531 0 0 0-.489.337L40.37 4.124l-2.887.274a.537.537 0 0 0-.457.38.57.57 0 0 0 .156.59l2.181 1.997-.643 2.957a.567.567 0 0 0 .207.572.516.516 0 0 0 .583.027L42 9.368l2.489 1.553a.511.511 0 0 0 .584-.027.567.567 0 0 0 .207-.572l-.644-2.957 2.182-1.997a.57.57 0 0 0 .156-.59Z M58.974 4.778a.536.536 0 0 0-.457-.38l-2.887-.274-1.14-2.787A.532.532 0 0 0 54 1a.53.53 0 0 0-.489.337l-1.14 2.787-2.888.274a.538.538 0 0 0-.457.38.571.571 0 0 0 .155.59l2.182 1.997-.643 2.957a.567.567 0 0 0 .207.572.515.515 0 0 0 .584.027L54 9.368l2.489 1.553a.513.513 0 0 0 .584-.027.567.567 0 0 0 .207-.572l-.643-2.957 2.182-1.997a.571.571 0 0 0 .155-.59Z'
            : 'M14.632 6.372a.714.714 0 0 0-.61-.509L10.174 5.5 8.652 1.782A.709.709 0 0 0 8 1.333a.708.708 0 0 0-.652.45L5.827 5.499l-3.85.364a.716.716 0 0 0-.609.509.76.76 0 0 0 .207.785l2.91 2.662-.858 3.943c-.063.29.045.59.275.764a.687.687 0 0 0 .778.035L8 12.491l3.318 2.07a.682.682 0 0 0 .78-.035.756.756 0 0 0 .275-.764l-.858-3.943 2.91-2.661a.76.76 0 0 0 .207-.786ZM30.632 6.372a.714.714 0 0 0-.61-.509L26.174 5.5l-1.522-3.717A.709.709 0 0 0 24 1.333a.708.708 0 0 0-.652.45l-1.521 3.716-3.85.364a.716.716 0 0 0-.609.509.76.76 0 0 0 .208.785l2.908 2.662-.857 3.943c-.063.29.045.59.275.764a.687.687 0 0 0 .778.035l3.32-2.07 3.318 2.07a.682.682 0 0 0 .78-.035.756.756 0 0 0 .275-.764l-.858-3.943 2.91-2.661a.76.76 0 0 0 .207-.786ZM46.632 6.372a.714.714 0 0 0-.61-.509L42.173 5.5l-1.521-3.717A.709.709 0 0 0 40 1.333a.708.708 0 0 0-.652.45l-1.521 3.716-3.85.364a.716.716 0 0 0-.609.509.76.76 0 0 0 .207.785l2.91 2.662-.858 3.943c-.063.29.045.59.275.764a.687.687 0 0 0 .779.035L40 12.491l3.318 2.07a.682.682 0 0 0 .78-.035.756.756 0 0 0 .275-.764l-.858-3.943 2.909-2.661a.76.76 0 0 0 .208-.786ZM62.632 6.372a.714.714 0 0 0-.61-.509L58.173 5.5l-1.521-3.717A.709.709 0 0 0 56 1.333a.708.708 0 0 0-.652.45l-1.521 3.716-3.85.364a.716.716 0 0 0-.609.509.76.76 0 0 0 .207.785l2.91 2.662-.858 3.943c-.063.29.045.59.275.764a.687.687 0 0 0 .779.035L56 12.491l3.318 2.07a.682.682 0 0 0 .78-.035.756.756 0 0 0 .275-.764l-.858-3.943 2.909-2.661a.76.76 0 0 0 .208-.786Z M78.632 6.371a.715.715 0 0 0-.61-.508L74.173 5.5l-1.52-3.716a.709.709 0 0 0-.653-.45.707.707 0 0 0-.652.45l-1.52 3.716-3.85.364a.717.717 0 0 0-.61.508.762.762 0 0 0 .207.786l2.91 2.663-.859 3.942c-.062.29.046.59.276.764a.685.685 0 0 0 .779.036L72 12.49l3.318 2.07c.244.153.55.139.78-.035a.755.755 0 0 0 .275-.764l-.857-3.942 2.91-2.663a.762.762 0 0 0 .206-.786Z'
        }
        fill={theme.colors.black}
      />
    </Svg>
  );

  return (
    <MaskedView {...{ maskElement }}>
      <Box flexDirection="row" {...{ width }}>
        <Box backgroundColor="gold" {...{ flex, height }} />
        <Box backgroundColor="neutral5" {...{ flex: 1 - flex, height }} />
      </Box>
    </MaskedView>
  );
};

export default RatingStars;
